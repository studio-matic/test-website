<!DOCTYPE html>
<html>

<head>
    <link href="css/admin.css" rel="stylesheet">

    <meta charset="UTF-8">
    <title>Admin</title>
</head>

<body>
    <div id="status">checking backend ⏳</div>
    <script src="js/main.js"></script>
    <script>redirLoggedOut()</script>

    <h2>Welcome to the admin dashboard</h2>

    <h3>Donations</h3>
    <table id="donations" role="table">
        <thead>
            <tr>
                <th>coins</th>
                <th>date</th>
                <th>income (€)</th>
                <th>co-op</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data rows will be inserted here by JS -->
        </tbody>
    </table>
    <h3 id="donation-heading">Add a new donation</h3>
    <form id="add-donation-form">
        <input type="hidden" id="donation-id">
        <label>
            Coins:
            <input type="number" id="donation-coins" required min="0">
        </label>
        <label>
            Income (€):
            <input type="number" id="donation-income" required step="0.01" min="0">
        </label>
        <button type="submit" id="donation-submit">Add Donation</button>
        <button type="button" id="donation-cancel" style="display:none;">Cancel</button>
    </form>
    <div id="add-donation-status"></div>
    <h3>Supporters</h3>
    <table id="supporters" role="table">
        <thead>
            <tr>
                <th>name</th>
                <th>date</th>
                <th>income (€)</th>
                <th>co-op</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data rows will be inserted here by JS -->
        </tbody>
    </table>
    <h3 id="supporter-heading">Add a new supporter</h3>
    <form id="add-supporter-form">
        <input type="hidden" id="supporter-id">
        <label>
            Name:
            <input type="text" id="supporter-name" required>
        </label>

        <label id="supporter-income-label">
            Income (€):
            <input type="number" id="supporter-income" required step="0.01" min="0">
        </label>

        <button type="submit" id="supporter-submit">Add Supporter</button>
        <button type="button" id="supporter-cancel" style="display:none;">Cancel</button>
    </form>
    <div id="add-supporter-status"></div>
    <script>loadDbData()</script>
    <script>enableForms()</script>
</body>

</html>
